<!doctype html>

<html lang="en">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyAqHNnB3aN5C2MZG2fTK6P9zamY3F5kwwU",
        authDomain: "cleanapp-a4422.firebaseapp.com",
        databaseURL: "https://cleanapp-a4422.firebaseio.com",
        storageBucket: "cleanapp-a4422.appspot.com",
      };
      firebase.initializeApp(config);
   </script>
    <script type="text/javascript">
      var database = firebase.database.Reference;
      function makePosts() {
        //This is what the documentation says, but obviously this isn't working
        for  (i in firebase.database().ref('posts')) {
          console.log(i)
        }
      }
      /*
      if (!firebase.auth().currentUser) {
        firebase.auth().signInWithRedirect(provider).then(function(result) {
          var token = result.credential.accessToken;
          var user = result.user;
          console.log("Login success");
        }).catch(function(error) {
          var errorCode = error.code;
          var errorMessage = error.message;
        });
      }
      */
      function getCookie(cname) {
          var name = cname + "=";
          var ca = document.cookie.split(';');
          for (var i = 0; i < ca.length; i+ +) {
              var c = ca[i];
              while (c.charAt(0)==' ') {
                  c = c.substring(1);
              }
              if (c.indexOf(name) == 0) {
                  return c.substring(name.length,c.length);
              }
          }
          return "";
      }
      function validate() {
        if (getCookie("userID") == "") {
            window.location.replace("index.html");
        }
      }
    </script>
  </head>
  <body onload="validate();makePosts();">
    <h1>LAAL YEEY</h1>
  </body>
</html>
